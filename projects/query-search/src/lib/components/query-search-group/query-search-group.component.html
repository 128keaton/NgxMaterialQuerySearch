<mat-divider class="sub-group-divider" *ngIf="_showDivider"></mat-divider>
<mat-toolbar [color]="toolbarColor">
  <group-type-selector [disabled]="disableTypeButtons" [groupColor]="toolbarColor"
                       [(ngModel)]="groupType"></group-type-selector>
  <div class="group-action-buttons">
    <button mat-icon-button [matMenuTriggerFor]="actionMenu">
      <mat-icon>add</mat-icon>
    </button>
    <mat-menu #actionMenu="matMenu">
      <button mat-menu-item (click)="addItem()">Item</button>
      <button mat-menu-item (click)="addGroup()">Group</button>
    </mat-menu>
    <button mat-icon-button (click)="remove()" *ngIf="!isTopLevel">
      <mat-icon>delete</mat-icon>
    </button>
  </div>

  <span class="group-spacer"></span>
  <button class="generate-button" mat-flat-button color="accent" *ngIf="isTopLevel" (click)="generateClicked.emit(true)">{{generateButtonText}}</button>
</mat-toolbar>
<div class="group-items-list">
  <query-search-item class="group-item" [@inOut] *ngFor="let item of group.items" (removed)="removeItem($event)"
                     [item]="item" [disableDelete]="group.items.length === 1"></query-search-item>

  <query-search-group *ngFor="let group of group.children" class="sub-group-item" [@inOut] [group]="group"
                      (removed)="removeChild($event)" [showDivider]="true"></query-search-group>
</div>
<mat-divider></mat-divider>
